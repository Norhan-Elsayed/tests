"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[932],{6666:(O,c,r)=>{r.r(c),r.d(c,{LoginComponent:()=>Z});var d=r(6814),a=r(95),u=r(4670),t=r(4946),p=r(304);function _(e,l){1&e&&(t.TgZ(0,"p"),t._uU(1,"email IS Required"),t.qZA())}function m(e,l){1&e&&(t.TgZ(0,"p"),t._uU(1,"email inValid"),t.qZA())}function f(e,l){if(1&e&&(t.TgZ(0,"div",24),t.YNc(1,_,2,0,"p",13),t.YNc(2,m,2,0,"p",13),t.qZA()),2&e){const i=t.oxw();let n,o;t.xp6(1),t.Q6J("ngIf",null==(n=i.loginForm.get("email"))?null:n.getError("Required")),t.xp6(1),t.Q6J("ngIf",null==(o=i.loginForm.get("email"))?null:o.getError("email"))}}function h(e,l){1&e&&(t.TgZ(0,"p"),t._uU(1,"password IS Required"),t.qZA())}function x(e,l){1&e&&(t.TgZ(0,"p"),t._uU(1,"invalid pattern"),t.qZA())}function C(e,l){if(1&e&&(t.TgZ(0,"div",24),t.YNc(1,h,2,0,"p",13),t.YNc(2,x,2,0,"p",13),t.qZA()),2&e){const i=t.oxw();let n,o;t.xp6(1),t.Q6J("ngIf",null==(n=i.loginForm.get("password"))?null:n.getError("Required")),t.xp6(1),t.Q6J("ngIf",null==(o=i.loginForm.get("password"))?null:o.getError("pattern"))}}function M(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",25),t.qZA())}function v(e,l){if(1&e&&(t.TgZ(0,"p",26),t._uU(1),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Oqu(i.errMsg)}}let Z=(()=>{class e{constructor(i,n,o){this._Router=i,this._FormBuilder=n,this._AuthService=o,this.errMsg="",this.isLoading=!1,this.loginForm=this._FormBuilder.group({email:["",[a.kI.required,a.kI.email]],password:["",[a.kI.required,a.kI.pattern(/^[a-zA-Z0-9_@]{4,}$/)]]})}handleForm(){const i=this.loginForm.value;this.isLoading=!0,!0===this.loginForm.valid&&this._AuthService.login(i).subscribe({next:n=>{console.log(n),"Super authentication successful."==n.message?(localStorage.setItem("uRole",n.role),localStorage.setItem("id",n.user.id),this.isLoading=!1,this._Router.navigate(["/dashSuper"])):"Manager authentication successful."==n.message?(localStorage.setItem("uRole",n.role),localStorage.setItem("id",n.user.id),this.isLoading=!1,this._Router.navigate(["/dashManager"])):"Assistant authentication successful."==n.message?(localStorage.setItem("uRole",n.role),localStorage.setItem("id",n.user.id),this.isLoading=!1,this._Router.navigate(["/dashAssist"])):"Admin authentication successful."==n.message?(localStorage.setItem("uRole",n.role),localStorage.setItem("id",n.user.id),this.isLoading=!1,this._Router.navigate(["/dashAdmin"])):"Driver authentication successful."==n.message&&(localStorage.setItem("uRole",n.role),localStorage.setItem("id",n.user.id),this.isLoading=!1,this._Router.navigate(["/driverInfoDriver"]))},error:n=>{this.errMsg=n.error,console.log(n),this.isLoading=!1}})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(u.F0),t.Y36(a.qu),t.Y36(p.e))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],standalone:!0,features:[t.jDz],decls:41,vars:6,consts:[[1,"main"],["id","container",1,"container"],[1,"form-container","sign-in"],[3,"formGroup","ngSubmit"],[1,"signword"],[1,"p-2"],["for","email"],["id","email","formControlName","email","type","email","placeholder","Your Email .."],["class","alert alert-danger",4,"ngIf"],["for","password"],["id","password","formControlName","password","type","password","placeholder","Password .."],["href","#"],["id","signIn",3,"disabled"],[4,"ngIf"],["class","alert alert-danger mx-auto p-1",4,"ngIf"],[1,"toggle-container"],[1,"toggle"],[1,"toggle-panel","toggle-left","bg-info"],["src","../../../assets/WhatsApp Image 2023-12-03 at 8.29.01 AM.jpeg","width","80px","height","60px","alt","",1,"rounded-3"],["id","login",1,"hidden"],[1,"toggle-panel","toggle-right","text-white"],[1,""],[1,"fw-bold"],["id","login","routerLink","/register",1,""],[1,"alert","alert-danger"],[1,"fas","fa-spin","fa-spinner"],[1,"alert","alert-danger","mx-auto","p-1"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),t.NdJ("ngSubmit",function(){return o.handleForm()}),t.TgZ(4,"h1",4),t._uU(5,"sign in"),t.qZA(),t.TgZ(6,"span",5),t._uU(7,"or use your email password"),t.qZA(),t.TgZ(8,"div"),t._UZ(9,"label",6)(10,"input",7),t.TgZ(11,"div"),t.YNc(12,f,3,2,"div",8),t.qZA()(),t.TgZ(13,"div"),t._UZ(14,"label",9)(15,"input",10),t.YNc(16,C,3,2,"div",8),t.qZA(),t.TgZ(17,"a",11),t._uU(18,"Forget your password"),t.qZA(),t.TgZ(19,"button",12),t._uU(20," sign in "),t.YNc(21,M,2,0,"span",13),t.qZA(),t.YNc(22,v,2,1,"p",14),t.qZA()(),t.TgZ(23,"div",15)(24,"div",16)(25,"div",17),t._UZ(26,"img",18),t.TgZ(27,"h1"),t._uU(28,"Welcome Back!"),t.qZA(),t.TgZ(29,"p"),t._uU(30,"Enter your personal details to use all of site features"),t.qZA(),t.TgZ(31,"button",19),t._uU(32,"Sign In"),t.qZA()()(),t.TgZ(33,"div",20),t._UZ(34,"img",18),t.TgZ(35,"h1",21),t._uU(36,"Hello,friend!"),t.qZA(),t.TgZ(37,"p",22),t._uU(38,"Register with your personal details to use all of site features"),t.qZA(),t.TgZ(39,"button",23),t._uU(40,"Sign up"),t.qZA()()()()()),2&n){let g,s;t.xp6(3),t.Q6J("formGroup",o.loginForm),t.xp6(9),t.Q6J("ngIf",(null==(g=o.loginForm.get("email"))?null:g.errors)&&(null==(g=o.loginForm.get("email"))?null:g.touched)),t.xp6(4),t.Q6J("ngIf",(null==(s=o.loginForm.get("password"))?null:s.errors)&&(null==(s=o.loginForm.get("password"))?null:s.touched)),t.xp6(3),t.Q6J("disabled",o.loginForm.invalid),t.xp6(2),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.errMsg)}},dependencies:[d.ez,d.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,u.rH],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;border-radius:30px;box-shadow:0 5px 15px #00000059;position:relative;overflow:hidden;width:770px;max-width:100%;min-height:480px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:20px;letter-spacing:.3px;margin:20px}.container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-size:13px;text-decoration:none;margin:15px 0 10px}.create[_ngcontent-%COMP%]{color:#4289ba}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#5ea2d3;color:#fff;font-size:12px;padding:10px 46px;border:1px solid transparent;border-radius:8px;font-weight:600px;letter-spacing:.5px;text-transform:uppercase;cursor:pointer;margin-top:10px}.container[_ngcontent-%COMP%]   button.hidden[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:#fff;padding:0 40px;height:100%}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#eee;border:none;margin:8px 0;padding:10px 15px;font-size:13px;border-radius:8px;width:100%;outline:none}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}.main[_ngcontent-%COMP%]{background-color:#0514332f!important;min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;background-repeat:no-repeat;background-size:cover}.signword[_ngcontent-%COMP%]{color:#4289ba}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4289ba}.sign-in[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container.active[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{transform:translate(100%)}.sign-up[_ngcontent-%COMP%]{left:0;width:50%;opacity:1;z-index:1}.container.active[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_move .6}@keyframes _ngcontent-%COMP%_move{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.toggle-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:all .6s ease-in-out;border-radius:150px 0 0 100px;z-index:1000}#login[_ngcontent-%COMP%], #signIn[_ngcontent-%COMP%]{background-color:#5ea2d3}.toggle[_ngcontent-%COMP%]{background-color:#4289ba;background:linear-gradient(to rigith,#5c6bc0,#512da8);color:#fff;position:relative;left:-100px;height:100%;width:200%;transform:translate(0);transition:all .6 ease-in-out}.toggle-panel[_ngcontent-%COMP%]{position:absolute;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;top:0;left:22px;transform:translate(0);transition:all .6 ease-in-out}.toggle-left[_ngcontent-%COMP%]{transform:translate(-200%)}"]})}return e})()}}]);